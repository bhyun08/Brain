JPA(Java Persistence API)의 연관관계는 엔티티 간의 관계를 정의하는 것이다.

#### 특징

1. 🔗 **방향성**: 단방향 관계와 양방향 관계가 있습니다. 단방향은 한 쪽 엔티티에서만 다른 엔티티를 참조할 수 있고, 양방향은 양쪽 엔티티에서 서로를 참조할 수 있다.
    
2. 🤝 **연관관계의 주인**: 양방향 관계에서는 연관관계의 주인을 지정해야 한다. 주인이 아닌 쪽은 읽기 전용이 된다.
    
3. 🔢 **다중성**: 다대일(N:1), 일대다(1:N), 일대일(1:1) 등의 다중성이 있다. 일대다 관계는 권장되지 않으며, 다대일 관계를 사용하는 것이 좋다.

### 주요 연관관계

- 일대일 관계(One-to-One): 한 엔티티의 인스턴스가 다른 엔티티의 인스턴스 하나와 연결되는 관계이다. 
```java
// 주소 엔티티
@Entity
public class Address {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;
    private String street;
    private String city;

    @OneToOne(mappedBy = "address")
    private User user;
}

// 사용자 엔티티  
@Entity 
public class User {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;
    private String name;

    @OneToOne
    @JoinColumn(name = "address_id")
    private Address address;
}
```


- 일대다 관계(One-to-Many): 한 엔티티의 인스턴스가 다른 엔티티의 여러 인스턴스와 연결되는 관계이다. 
```java
// 게시글 엔티티
@Entity
public class Post {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;
    private String title;
    private String content;

    @ManyToOne
    @JoinColumn(name = "user_id")
    private User user;
}

// 사용자 엔티티
@Entity
public class User {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;
    private String name;

    @OneToMany(mappedBy = "user")
    private List<Post> posts = new ArrayList<>();
}
```


- **다대일 관계(Many-to-One)**: 다수의 엔티티 인스턴스가 하나의 다른 엔티티 인스턴스와 연결되는 관계이다. 
```java
// 주문 엔티티
@Entity
public class Order {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;
    private String orderNumber;

    @ManyToOne
    @JoinColumn(name = "customer_id")
    private Customer customer;
}

// 고객 엔티티
@Entity
public class Customer {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;
    private String name;

    @OneToMany(mappedBy = "customer")
    private List<Order> orders = new ArrayList<>();
}
```


- 다대다 관계(Many-to-Many): 한 엔티티의 인스턴스가 다른 엔티티의 여러 인스턴스와 연결되고, 그 반대도 성립하는 관계이다.
```java
// 학생 엔티티
@Entity
public class Student {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;
    private String name;

    @ManyToMany
    @JoinTable(name = "student_course",
               joinColumns = @JoinColumn(name = "student_id"),
               inverseJoinColumns = @JoinColumn(name = "course_id"))
    private List<Course> courses = new ArrayList<>();
}

// 강좌 엔티티
@Entity
public class Course {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;
    private String name;

    @ManyToMany(mappedBy = "courses")
    private List<Student> students = new ArrayList<>();
}
```

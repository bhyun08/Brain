**영속성 컨텍스트(Persistence Context)** 란 엔티티 객체의 생명주기를 관리하는 JPA의 핵심 개념이다.   
영속성 컨텍스트는 엔티티 객체를 관리하는 공간으로, 엔티티 객체의 상태를 추적하고 관리한다.


#### 영속성 컨텍스트의 생명주기

![370](https://i.imgur.com/AAxMrIo.png)

- 비영속(new/transient) : 영속성 컨텍스트와 전혀 관계가 없는 새로운 상태
- 영속(managed) : 영속성 컨텍스트에 관리되는 상태
- 준영속(detached) : 영속성 컨텍스트에 저장되었다가 분리된 상태
- 삭제(remove) : 삭제된 상태


#### 영속성 컨텍스트의 장점

1. **변경 감지(Dirty Checking)**:
    - 영속성 컨텍스트는 엔티티 객체의 변경 사항을 자동으로 감지하여 데이터베이스에 반영한다.
    - 이를 통해 개발자가 직접 UPDATE 쿼리를 작성할 필요가 없다.
    
2. **쓰기 지연(Flush)**:
    - 영속성 컨텍스트는 엔티티 객체의 변경 사항을 데이터베이스에 즉시 반영하지 않고 지연시킨다.
    - 이를 통해 성능 향상과 트랜잭션 처리의 효율성을 높일 수 있다.
	
3. **1차 캐시**:
    - 영속성 컨텍스트는 엔티티 객체를 1차 캐시에 보관하여 데이터베이스 접근을 줄일 수 있다.
    
4. **영속된 엔티티의 동일성 보장 (1차 캐시의 연장선)**:
	- 엔티티 객체의 동일성을 식별자 기반으로 보장하여 일관성 있는 데이터 처리를 가능하게 한다.


- 영속성 컨텍스트는 JPA 구현체인 Hibernate, EclipseLink 등에 의해 관리되며, 엔티티 객체의 생명주기 관리와 데이터 일관성 유지에 핵심적인 역할을 한다. 

[[Flush]]